package airlineinfo;

import java.time.LocalDate;

public class Order {
	
	private double basicPrice;
	private Flight flight;
	
	private int minimumSeats;
	private LocalDate maximumDate;

	private double luggagePrice;
	private float registerFirstPrice;
	private float seatsFactorPrice;
	private float dateFactorPrice;
	
	//static counter
	public static int counter;
	
	//constructor for initializing things
	public Order(double basicPrice, Flight flight, int minimumSeats, LocalDate maximumDate, double luggagePrice,
			float registerFirstPrice, float seatsFactorPrice, float dateFactorPrice) {
		this.basicPrice = basicPrice;
		this.flight = flight;
		this.minimumSeats = minimumSeats;
		this.maximumDate = maximumDate;
		this.luggagePrice = luggagePrice;
		this.registerFirstPrice = registerFirstPrice;
		this.seatsFactorPrice = seatsFactorPrice;
		this.dateFactorPrice = dateFactorPrice;
		
		counter++;
	}
	
	//getters and setters
	public double getBasicPrice() {
		return basicPrice;
	}
	
	
	public void setBasicPrice(double flightBasicPrice) {
		if (flightBasicPrice>=0.0d)
			basicPrice=flightBasicPrice;
		else
			System.out.println("Incorrect value");
	}
	
	
	public double getLuggagePrice() {
		return luggagePrice;
	}

	public void setLuggagePrice(double luggagePrice) {
		if (luggagePrice>=0.0d)
			this.luggagePrice = luggagePrice;
		else
			System.out.println("Incorrect value");
	}

	public float getRegisterFirstPrice() {
		return registerFirstPrice;
	}

	public void setRegisterFirstPrice(float registerFirstPrice) {
		if (registerFirstPrice>=0.0f)
			this.registerFirstPrice = registerFirstPrice;
		else
			System.out.println("Incorrect value");
	}

	
	public int getMinimumSeats() {
		return minimumSeats;
	}

	public void setMinimumSeats(int minimumSeats) {
		if (minimumSeats>=0.0f)
			this.minimumSeats = minimumSeats;
		else
			System.out.println("Incorrect value");
	}

	public LocalDate getMaximumDate() {
		return maximumDate;
	}

	public void setMaximumDate(LocalDate maximumDate) {
		this.maximumDate = maximumDate;
	}

	public float getSeatsFactorPrice() {
		return seatsFactorPrice;
	}

	public void setSeatsFactorPrice(float seatsFactorPrice) {
		if (seatsFactorPrice>=0.0f)
			this.seatsFactorPrice = seatsFactorPrice;
		else
			System.out.println("Incorrect value");
	}

	public float getDateFactorPrice() {
		return dateFactorPrice;
	}

	public void setDateFactorPrice(float dateFactorPrice) {
		if (dateFactorPrice>=0.0f)
			this.dateFactorPrice = dateFactorPrice;
		else
			System.out.println("Incorrect value");
	}
	
	public Flight getFlight() {
		return flight;
	}

	public void setFlight(Flight flight) {
		if (flight!=null)
			this.flight = flight;
		else
			System.out.println("Please set a valid flight");
	}
	

	//for calculating the price, taking luggage and stuff into account
	/** One of the two setters for the price: 
	 * the one that calculates the price taking everything into account; 
	 * @param flightInfo - information about the flight; 
	 * @param luggageWeight; 
	 * @param registerFirst; 
	 */
	public double calculatePrice(int seatsLeft, int luggageWeight, boolean registerFirst) {
			
		double price = getBasicPrice();
		
		price = price + luggageWeight * getLuggagePrice();
			
		if (registerFirst == true) {
			price = price + getBasicPrice() * getRegisterFirstPrice();
		}
			
		if (seatsLeft < getMinimumSeats()) {
			price = price + getBasicPrice() * getSeatsFactorPrice();
		}
						
		if ( getMaximumDate().isBefore( LocalDate.now() ) ) {			
			price = price + getBasicPrice() * getDateFactorPrice();
		}
		
		return price;
	}


		//Overridden methods (automatically generated)
		
		/* Overridden hashCode(); 
		 * will always return the same result; 
		 * @see java.lang.Object#hashCode()
		 */
		@Override
		public int hashCode() {
			final int prime = 31;
			int result = 1;
			long temp;
			temp = Double.doubleToLongBits(basicPrice);
			result = prime * result + (int) (temp ^ (temp >>> 32));
			result = prime * result + Float.floatToIntBits(dateFactorPrice);
			temp = Double.doubleToLongBits(luggagePrice);
			result = prime * result + (int) (temp ^ (temp >>> 32));
			result = prime * result + ((maximumDate == null) ? 0 : maximumDate.hashCode());
			result = prime * result + minimumSeats;
			result = prime * result + Float.floatToIntBits(registerFirstPrice);
			result = prime * result + Float.floatToIntBits(seatsFactorPrice);
			return result;
		}

		/* Overridden equals(): 
		 * compare the properties of the objects; 
		 * and some other stuff; 
		 * @see java.lang.Object#equals(java.lang.Object)
		 */
		@Override
		public boolean equals(Object obj) {
			if (this == obj)
				return true;
			if (obj == null)
				return false;
			if (getClass() != obj.getClass())
				return false;
			Order other = (Order) obj;
			if (Double.doubleToLongBits(basicPrice) != Double.doubleToLongBits(other.basicPrice))
				return false;
			if (Float.floatToIntBits(dateFactorPrice) != Float.floatToIntBits(other.dateFactorPrice))
				return false;
			if (Double.doubleToLongBits(luggagePrice) != Double.doubleToLongBits(other.luggagePrice))
				return false;
			if (maximumDate == null) {
				if (other.maximumDate != null)
					return false;
			} else if (!maximumDate.equals(other.maximumDate))
				return false;
			if (minimumSeats != other.minimumSeats)
				return false;
			if (Float.floatToIntBits(registerFirstPrice) != Float.floatToIntBits(other.registerFirstPrice))
				return false;
			if (Float.floatToIntBits(seatsFactorPrice) != Float.floatToIntBits(other.seatsFactorPrice))
				return false;
			return true;
		}

		/* Overridden toString(): 
		 * returns some info about the object parameters in a string; 
		 * @see java.lang.Object#toString()
		 */
		@Override
		public String toString() {
			return "Order [basicPrice=" + basicPrice + ", minimumSeats=" + minimumSeats + ", maximumDate=" + maximumDate
					+ ", luggagePrice=" + luggagePrice + ", registerFirstPrice=" + registerFirstPrice
					+ ", seatsFactorPrice=" + seatsFactorPrice + ", dateFactorPrice=" + dateFactorPrice + "]";
		}
		

}
